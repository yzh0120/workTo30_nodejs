webpackJsonp([8],{"0eXD":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),s=n("NYxO"),o=Object(s.a)("login"),l={name:"login",data:function(){return{inputVal:"",ws_login:!1}},methods:i()({input:function(){this.inputVal=this.inputVal.replace(/[^\a-\z\A-\Z0-9\u4E00-\u9FA5]/g,""),console.log(this.inputVal,this.inputVal.length)}},o.mapMutations({HasTokenThenFirstHandler:"HasTokenThenFirstHandler"}),o.mapMutations({hasLoginHandler:"hasLoginHandler"}),o.mapMutations({userInfoHandler:"userInfoHandler"}),{login:function(){var t=this;if(0!=this.inputVal.length)if(1!=!!this.ws_login){this.ws_login=!0;var e={user_account:this.inputVal};this.$api.login.testLogin(e).then(function(e){switch(console.log(e.data,"login"),t.ws_login=!1,e.data){case"No_information":t.$toast("没有此id信息");break;default:localStorage.setItem("token",e.data.token),t.hasLoginHandler(!0),t.HasTokenThenFirstHandler(!1),t.userInfoHandler(e.data.result),t.$toast("登录成功!!"),t.$router.replace({path:"/user"})}})}else this.$toast("正在登录中...");else this.$toast("请输入你的凭证")}}),computed:i()({},o.mapState({hasLogin:function(t){return t.hasLogin}})),mounted:function(){this.hasLogin&&this.$router.replace({path:"/user"})},watch:{}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasLogin,expression:"!hasLogin"}],staticClass:"login"},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],attrs:{type:"text",maxlength:"20",placeholder:"请输入你的登录凭证 英文数字汉字最长20"},domProps:{value:t.inputVal},on:{input:[function(e){e.target.composing||(t.inputVal=e.target.value)},t.input]}}),t._v(" "),n("van-button",{staticClass:"click",attrs:{type:"primary",size:"large"},on:{click:t.login}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.ws_login,expression:"!ws_login"}]},[t._v("点此登录")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ws_login,expression:"ws_login"}]},[t._v("登录中. . .")])])],1)},staticRenderFns:[]};var u=n("VU/8")(l,r,!1,function(t){n("PKeg"),n("2RMm")},"data-v-5b43ae74",null);e.default=u.exports},"2RMm":function(t,e){},PKeg:function(t,e){}});
//# sourceMappingURL=8.228eee3078b2676865a2.js.map