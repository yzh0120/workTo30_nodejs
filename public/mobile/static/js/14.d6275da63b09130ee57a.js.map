{"version":3,"sources":["webpack:///src/components/me/utils/FolAndFansForOther.vue","webpack:///./src/components/me/utils/FolAndFansForOther.vue?d8bd","webpack:///./src/components/me/utils/FolAndFansForOther.vue"],"names":["FolAndFansForOther","name","activated","this","firstEnter","fromPath","isBuffering","list","length","onLoad","data","loading","isLoading","finished","listApi","methods","mountedFn","clickMe","e","index","$refs","toOtherUser","params","console","log","$router","push","path","query","userId","getList","num","_this","$api","user","folAndFansForOther","then","res","getFn","result","ok","arg","concat","$route","folAndFans","otherUserId","time","follow_time","onRefresh","computed","get","$store","_modulesNamespaceMap","context","state","set","value","commit","components","UserTag","mounted","watch","utils_FolAndFansForOther","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","success-text","on","refresh","model","callback","$$v","expression","finished-text","load","_v","_l","item","key","click","$event","ref","refInFor","msgg","toUserInfo","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.d6275da63b09130ee57a.js","sourcesContent":["<template>\n  <div class=\"am- \">\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\" success-text=\"刷新成功\">\n\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\"\n      class=\"list\">\n      <div class=\"listTopStyle\"></div>\n      <!-- @click.native=\"toOtherUser(item.user_id)\"-->\n   <!-- <HeadPor\n   v-for=\"(item, index) in list\" :key=\"index\" class=\"folAndFans\"\n    :msgg=\"{id:item.user_id, authen:item.user_authen, img:item.user_img,name:item.user_name,user_lv:item.user_lv,gold:item.user_gold}\">\n    </HeadPor> -->\n\n    <div v-for=\"(item, index) in list\" :key=\"index\" @click=\"clickMe($event,index)\" class=\"for\">\n      <!-- <HeadPor :ref=\"`child${index}`\"\n        class=\"folAndFans\"\n       :msgg=\"{id:item.user_id, authen:item.user_authen, img:item.user_img,name:item.user_name,user_lv:item.user_lv,gold:item.user_gold}\">\n       </HeadPor> -->\n       <UserTag :msgg=\"item\" :toUserInfo = \"true\" class=\"user_tag\" :ref=\"`child${index}`\"></UserTag>\n    </div>\n\n  </van-list>\n\n  </van-pull-refresh>\n  </div>\n</template>\n\n<script>\n\t/* 引入头像组件*/\n\t// import HeadPor from \"@/components/utils/HeadPor\"\n  import UserTag from \"@/components/utils/UserTag\"\n\n  // import {createNamespacedHelpers} from 'vuex'\n  // const navBar_Every=createNamespacedHelpers('navBar_Every')\n  export default{\n    name:\"\",\n    activated(){\n      if(this.firstEnter >1 && (this.fromPath != '/no'\n      && this.fromPath != '/search')){\n        /* 如果不是在第一次进入并且...*/\n        // this.mountedFn()\n\n         /* 下面针对含有list的组件*/\n        // 缓冲显示\n        this.isBuffering = true\n        // 清空list\n        // this.list = []\n        this.list.length = 0\n        this.onLoad()\n      }else{\n        this.firstEnter ++\n      }\n    },\n    /* 数据*/\n    data(){\n      return {\n        firstEnter : 0,\n        list : [],\n        loading: false,\n        isLoading : false,\n        finished: false,\n        listApi : ['folAndFansForOther','folAndFansForOtherMore']\n      }\n    },\n    /* 方法*/\n    methods:{\n      mountedFn(){\n              this.firstEnter ++\n              // 缓冲显示\n              this.isBuffering = true\n            },\n      clickMe(e,index){\n        this.$refs[`child${index}`][0].toOtherUser(e)\n        // console.log(this.$refs[`child${index}`][0])\n      },\n      toOtherUser(params){\n        console.log(params,'params')\n          this.$router.push({\n            path: '/otherUser',\n            query : {\n              userId : params\n            }\n          })\n      },\n      getList(params,num){\n        // this.$api.user[`${this.listApi[num]}`](params).then(\r\n        this.$api.user.folAndFansForOther(params).then(\n            res =>{\n              //缓冲消失\n              this.isBuffering = false\n              // 加载状态结束\n              this.loading = false;\n              // 刷新状态结束\n              this.isLoading = false;\n              // 允许加载\n              this.finished = false;\n              console.log(res.data,'关注')\n              if(res.data ==\"no_data\" ){\n                //文章不再触发加载\n                this.finished = true\n              }else if(res.data.finished){\n                // alert(1)\n                //如果后端告知无需刷新\n                this.finished = true\n                this.getFn(res.data.result,num)\n              }else if(res.data.ok){\n                this.getFn(res.data.result,num)\n              }else{\n                this.finished = true\n              }\n                // switch(res.data){\n                //   case \"no_data\":\n                //         //文章不再触发加载\n                //         this.finished = true\n                //    break;\n                //   default:\n                //   /* 数字*/\n                //    switch(num){\n                //     case 0:\n                //         this.list = res.data\n                //         break;\n                //     case 1:\n                //         this.list = this.list.concat(res.data)\n                //         break;\n                //       default:\n                //    }\n                //    //default结束\n                // }\n            }\n        )\n      },\n      getFn(arg,num){\n           switch(num){\n            case 0:\n                this.list = arg\n                break;\n            case 1:\n                this.list = this.list.concat(arg)\n                break;\n              default:\n           }\n      },\n      // ...nav.mapMutations({\n      //       \tsignQueryHandler: 'signQueryHandler'\n      //       }),\n      // 加载\n        onLoad() {\n            var params = {}\n            switch(this.$route.query.folAndFans){\n              case 'follow':\n                  params = {\n                    folAndFans : 'follow',\n                  }\n                  break;\n              case 'fans':\n                  params = {\n                    folAndFans : 'fans'\n                  }\n                  break;\n            }\n            if(this.$route.query.otherUserId){\n              //如果query有otherUserId参数 说明是otherUser页面\n              params.otherUserId = this.$route.query.otherUserId\n            }\n            if(!!this.list[0] == true){\n              params.time = this.list[this.list.length-1].follow_time\n              // if(this.$route.query.otherUserId){\n              //   //如果query有otherUserId参数 说明是otherUser页面\n              //   params.otherUserId = this.$route.query.otherUserId\n              // }\n               this.getList(params,1)\n            }else{\n              // if(this.$route.query.otherUserId){\n              //   //如果query有otherUserId参数 说明是otherUser页面\n              //   params.otherUserId = this.$route.query.otherUserId\n              // }\n              this.getList(params,0)\n            }\n\n      },\n      onRefresh(){\n        // this.getList({},0)\n        this.list.length = 0\n        this.onLoad()\n      },\n    },\n    /* 计算*/\n    computed:{\n      fromPath:{\n        get () {\n              return this.$store._modulesNamespaceMap['path/'].context.state.fromPath\n        },\n        set (value) {\n          this.$store._modulesNamespaceMap['path/'].context.commit('fromPathHandler', value)\n        }\n      },\n      isBuffering:{\n        get () {\n              return this.$store._modulesNamespaceMap['win/'].context.state.isBuffering\n        },\n        set (value) {\n          this.$store._modulesNamespaceMap['win/'].context.commit('isBufferingHandler', value)\n        }\n      },\n     // ...nav.mapState({\n     //      \tcode : state => state.code\n     //      })\n    },\n    // 组件\n    components : {\n    \t/* 这个组件名字不能和原生标签名重复 */\n      // HeadPor\n      UserTag\n    },\n    /* 挂载阶段*/\n    mounted() {\n      this.mountedFn()\n        // var params = {}\n        // switch(this.$route.query.folAndFans){\n        //   case 'follow':\n        //       params = {\n        //         folAndFans : 'follow'\n        //       }\n        //       break;\n        //   case 'fans':\n        //       params = {\n        //         folAndFans : 'fans'\n        //       }\n        //       break;\n        // }\n        // this.$api.user.folAndFans(params).then(\n        //     res =>{\n        //       console.log(res.data,'关注')\n        //       this.list = res.data\n        //         switch(res.data){\n        //           case 'repeat_check_in':\n\n        //               break;\n        //           default:\n\n        //            //default结束\n        //         }\n        //     }\n        // )\n\n    },\n    // 监听\n    watch:{\n      // 'obj.a': {\n      //     handler(newName, oldName) {\n      //       console.log('obj.a changed');\n      //     },\n      //     immediate: true,\n      //     // deep: true\n      //   }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .list{\n    .for{\n      border-bottom: 1px solid $jsBgcGray;\n      background-color : white;\n      padding: 0 25px;\n      margin-bottom: 20px;\n      .user_tag{\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/me/utils/FolAndFansForOther.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"am- \"},[_c('van-pull-refresh',{attrs:{\"success-text\":\"刷新成功\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{staticClass:\"list\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{staticClass:\"listTopStyle\"}),_vm._v(\" \"),_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"for\",on:{\"click\":function($event){return _vm.clickMe($event,index)}}},[_c('UserTag',{ref:(\"child\" + index),refInFor:true,staticClass:\"user_tag\",attrs:{\"msgg\":item,\"toUserInfo\":true}})],1)})],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cab77b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/me/utils/FolAndFansForOther.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cab77b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"H:\\\\\\\\aaa\\\\\\\\good\\\\\\\\goodvue\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\global.scss\\\"}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FolAndFansForOther.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FolAndFansForOther.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FolAndFansForOther.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cab77b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FolAndFansForOther.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7cab77b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/me/utils/FolAndFansForOther.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}