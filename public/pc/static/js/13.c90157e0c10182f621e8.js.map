{"version":3,"sources":["webpack:///src/components/article/GetArticleReward.vue","webpack:///./src/components/article/GetArticleReward.vue?2226","webpack:///./src/components/article/GetArticleReward.vue"],"names":["GetArticleReward","name","activated","this","firstEnter","fromPath","isBuffering","list","length","onLoad","data","isLoading","loading","finished","comReq","filters","methods","mountedFn","clickMe","e","index","$refs","toOtherUser","onRefresh","params","articleId","$route","query","time","get_reward_time","getList","num","_this","$api","article","getReward","then","res","console","log","getFn","result","ok","arg","i","$formatDate","Date","concat","computed","get","$store","_modulesNamespaceMap","context","state","set","value","commit","winWH","components","UserTag","mounted","watch","article_GetArticleReward","render","_vm","_h","$createElement","_c","_self","staticClass","style","minHeight","height","attrs","success-text","on","refresh","model","callback","$$v","expression","finished-text","load","_l","item","key","click","$event","ref","refInFor","msgg","toUserInfo","_v","_s","_f","get_reward_num","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.c90157e0c10182f621e8.js","sourcesContent":["<template>\n  <!-- <div class=\"pc_content\"> -->\n\n\n  <div class=\"pc_left\">\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\" success-text=\"刷新成功\"\n      class=\"refresh\" :style = '{minHeight:winWH.height}'>\n\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"onLoad\"\n        class=\"list\">\n\n\n      <div v-for=\"(item, index) in list\" :key=\"index\" @click=\"clickMe($event,index)\" class=\"for\">\n\r\n\t\t<UserTag :msgg=\"item\" :toUserInfo = \"true\" class=\"user_tag\" :ref=\"`child${index}`\"></UserTag>\n\n        <div class=\"bottom\">\n          <span>{{item.get_reward_time | fTime}}</span>\n          <span>慷慨地打赏了{{item.get_reward_num}}颗钻石</span>\n        </div>\n      </div>\n\n\n\n\n    </van-list>\n\n    </van-pull-refresh>\n    <!-- <SignUp></SignUp> -->\n  </div>\n\n <!-- <div class=\"pc_right\"></div>\n  </div> -->\n</template>\n\n<script>\n\t/* 引入导航栏组件*/\n\t// import HeadPor from \"@/components/utils/HeadPor\"\n\timport UserTag from \"@/components/utils/UserTag\"\n  // import {createNamespacedHelpers} from 'vuex'\n  // const navBar_Every=createNamespacedHelpers('navBar_Every')\n  export default{\n    name:\"\",\n    activated(){\n      // alert(this.fromPath)\n      if(this.firstEnter > 1 && (this.fromPath != '/otherUser'\n      && this.fromPath != '/search')){\n        /* 如果不是在第一次进入并且...*/\n        // this.mountedFn()\n\n         /* 下面针对含有list的组件*/\n        // 缓冲显示\n        this.isBuffering = true\n        // 清空list\n        // this.list = []\n        this.list.length = 0\n        this.onLoad()\n      }else{\n        this.firstEnter ++\n      }\n    },\n    /* 数据*/\n    data(){\n      return {\n        isLoading : false,\n        loading : false,\n        finished : false,\n        firstEnter : 0,\n        list : [],\n        comReq : ['getReward','getRewardMore']\n      }\n    },\n    filters:{\n      // fb : function(value){\n      //   if(value){\n      //     return  value\n      //   }else{\n      //     /* 如果value是假 */\n      //     return '文章飞到其他星球了'\n      //   }\n      // }\n    },\n    /* 方法*/\n    methods:{\n      mountedFn(){\n              this.firstEnter ++\n              // 缓冲显示\n              this.isBuffering = true\n      },\n      clickMe(e,index){\n        this.$refs[`child${index}`][0].toOtherUser(e)\n        // console.log(this.$refs[`child${index}`][0])\n      },\n      onRefresh(){\n        this.list.length = 0\n        this.onLoad()\n      },\n      /* 加载*/\n      onLoad() {\n            var params = {\n              articleId : this.$route.query.articleId\n            }\n            if(!!this.list[0] == true){\n              params.time = this.list[this.list.length-1].get_reward_time\n               this.getList(params,1)\n            }else{\n              this.getList(params,0)\n            }\n\n      },\n      getList(params,num){\n        // this.$api.article[`${this.comReq[num]}`](params).then(\n        this.$api.article.getReward(params).then(\n            res =>{\n              //缓冲消失\n              this.isBuffering = false\n              // 加载状态结束\n              this.loading = false;\n              // 刷新状态结束\n              this.isLoading = false;\n              // 允许加载\n              this.finished = false;\n              console.log(res.data,'打赏具体用户')\n              if(res.data ==\"no_data\" ){\n                //文章不再触发加载\n                this.finished = true\n              }else if(res.data.finished){\n                // alert(1)\n                //如果后端告知无需刷新\n                this.finished = true\n                this.getFn(res.data.result,num)\n              }else if(res.data.ok){\n                this.getFn(res.data.result,num)\n              }else{\n                this.finished = true\n              }\n            }\n        )\n      },\n      getFn(arg,num){\n        for(var i =0;i<arg.length;i++){\n          // var a = arg[i].comment_time.slice(0,23)\n          // var b = a.replace('T', ' ')\n          // var c = new Date(b)\n          // arg[i].comment_time = this.formatDate(new Date(c.setHours(c.getHours() + 8)))\n          arg[i].get_reward_time = this.$formatDate(new Date(arg[i].get_reward_time))\n          // if(this.commentSort == 'last'){\n          //   arg[i].commentIndex = this.article.article_comment_count-i-(this.list.length)\n          // }else if(this.commentSort == 'first'){\n          //   arg[i].commentIndex = i+1+(this.list.length)\n          // }\n        }\n           switch(num){\n            case 0:\n                this.list = arg\n                break;\n            case 1:\n                this.list = this.list.concat(arg)\n                break;\n              default:\n           }\n      },\n      // ...nav.mapMutations({\n      //       \tsignQueryHandler: 'signQueryHandler'\n      //       }),\n    },\n    /* 计算*/\n    computed:{\n      fromPath:{\n        get () {\n              return this.$store._modulesNamespaceMap['path/'].context.state.fromPath\n        },\n        set (value) {\n          this.$store._modulesNamespaceMap['path/'].context.commit('fromPathHandler', value)\n        }\n      },\n      winWH:{\n        get () {\n              return this.$store._modulesNamespaceMap['win/'].context.state.winWH\n        },\n        set (value) {\n          this.$store._modulesNamespaceMap['win/'].context.commit('winWHHandler', value)\n        }\n      },\n      isBuffering:{\n        get () {\n              return this.$store._modulesNamespaceMap['win/'].context.state.isBuffering\n        },\n        set (value) {\n          this.$store._modulesNamespaceMap['win/'].context.commit('isBufferingHandler', value)\n        }\n      },\n     // ...nav.mapState({\n     //      \tcode : state => state.code\n     //      })\n    },\n    // 组件\n    components : {\n    \t/* 这个组件名字不能和原生标签名重复 */\n      // HeadPor\r\n\t  UserTag\n    },\n    /* 挂载阶段*/\n    mounted() {\n      this.mountedFn()\n    },\n    // 监听\n    watch:{\n      // 'obj.a': {\n      //     handler(newName, oldName) {\n      //       console.log('obj.a changed');\n      //     },\n      //     immediate: true,\n      //     // deep: true\n      //   }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .pc_left{\n    width: 655px;\n  }\n  .list{\n    background-color: $jsBgcGray;\n\n    .for{\n        background-color : white;\n        padding: 0 15px;\n      .user_tag{\n        padding-top: 15px;\n      }\n      .bottom{\n        @include flex(row,space-between,center)\n        font-size: 18px;\n        padding-top: 15px;\n        padding-bottom: 15px;\n        // border-bottom: 20px solid $jsBgcGray;\n        margin-bottom: 15px;\n      }\n    }\n\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/article/GetArticleReward.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pc_left\"},[_c('van-pull-refresh',{staticClass:\"refresh\",style:({minHeight:_vm.winWH.height}),attrs:{\"success-text\":\"刷新成功\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{staticClass:\"list\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"for\",on:{\"click\":function($event){return _vm.clickMe($event,index)}}},[_c('UserTag',{ref:(\"child\" + index),refInFor:true,staticClass:\"user_tag\",attrs:{\"msgg\":item,\"toUserInfo\":true}}),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"fTime\")(item.get_reward_time)))]),_vm._v(\" \"),_c('span',[_vm._v(\"慷慨地打赏了\"+_vm._s(item.get_reward_num)+\"颗钻石\")])])],1)}),0)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7177530c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/article/GetArticleReward.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7177530c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"H:\\\\\\\\aaa\\\\\\\\good\\\\\\\\vueForWeb\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\global.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GetArticleReward.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GetArticleReward.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GetArticleReward.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7177530c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GetArticleReward.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7177530c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/article/GetArticleReward.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}