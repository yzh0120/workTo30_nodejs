{"version":3,"sources":["webpack:///src/components/utils/SearchList.vue","webpack:///./src/components/utils/SearchList.vue?164c","webpack:///./src/components/utils/SearchList.vue","webpack:///src/components/search/Search.vue","webpack:///./src/components/search/Search.vue?26d1","webpack:///./src/components/search/Search.vue"],"names":["list","Object","vuex_esm","SearchList","name","data","loading","isLoading","finished","filters","directives","focus","inserted","el","methods","extends_default","onRefresh","this","length","onLoad","mapMutations","ResetHandler","getArticle","params","num","_this","$api","article","search","then","res","console","log","getFn","result","ok","arg","_this2","i","article_publish_time","$formatDate","Date","$refs","tempForsearch","innerHTML","article_content","textContent","hasImg","hasImgONe","hasImgTag","imgArr","imgs","getElementsByTagName","src","j","concat","$nextTick","_i","classList","add","articleJump","$router","push","path","query","articleId","time","KeyWord","computed","mapState","state","Reset","components","UserTag","mounted","watch","handler","newVal","oldVal","immediate","utils_SearchList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","success-text","on","refresh","model","value","callback","$$v","expression","finished-text","load","ref","id","_v","_l","item","index","key","article_id","click","$event","msgg","_s","article_title","refInFor","rawName","alt","item2","index2","_f","article_look_count","article_comment_count","article_col_count","staticRenderFns","components_utils_SearchList","__webpack_require__","normalizeComponent","ssrContext","Search_list","Search","showSearch","KeyWordHandler","onSearch","$tip","back","List","search_Search","show-action","placeholder","autofocus","shape","scopedSlots","_u","fn","proxy","Search_Component","Search_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/10.771ac3d5c04f47b189cf.js","sourcesContent":["<template>\r\n\t<div class=\"listBoss\">\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\" success-text=\"刷新成功\">\n\n\n  <van-list\n    v-model=\"loading\"\n    :finished=\"finished\"\n    finished-text=\"没有更多了\"\n    @load=\"onLoad\"\n    class=\"list\">\n\n    <!-- 转化文章 -->\n    <div id=\"articleYzhTemp\" ref=\"tempForsearch\" class=\"temp\"></div>\n    <!-- 项目 -->\n\n    <div class=\"item\" v-for=\"(item, index) in list\" :key=\"item.article_id\"\n     @click=\"articleJump(item.article_id)\">\n      <!-- 上部 -->\n      <UserTag :msgg=\"item\"></UserTag>\n      <!-- <HeadPor :msgg=\"{ authen:item.user_authen, img:item.user_img,name:item.user_name,user_lv:item.user_lv,gold:item.user_gold}\"></HeadPor> -->\n      <!-- <HeadPor :msgg=\"[item.user_img,item.user_name]\"></HeadPor> -->\n      <!-- 中部 -->\n      <div class=\"middle\">\n        <!-- 标题 -->\n        <div class=\"title \">{{item.article_title}}</div>\n        <!-- 内容 -->\n        <!-- <div class=\"content van-ellipsis\">{{item.article_content}}</div> -->\n        <div class=\"ccc\">\n          <div class=\"content van-multi-ellipsis--l3\" :ref=\"`des${index}`\">{{item.article_content}}</div>\n          <img :src=\"item.hasImg.imgArr[0]\" alt=\"\" v-show=\"item.hasImg.hasImgONe\">\n        </div>\n        <!-- 图片群 -->\n        <div class=\"imgs\" v-show=\"item.hasImg.hasImgTag\">\n          <img :src=\"item2\" v-for=\"(item2,index2) in item.hasImg.imgArr\" :key=\"index2\"\n           class=\"hasImg\">\n        </div>\n      </div>\n\n      <!-- 下部 -->\r\n\t  <div class=\"bottom\">\n\t    <div>\n\t      <!-- 时间 -->\n\t      <i class=\"iconfont time\">&#xe607;</i>\n\t      <span class=\"spanOne\">{{item.article_publish_time|fTime}}</span>\n\t    </div>\n      \n      <div>\n        <!-- 浏览量 -->\n        <i class=\"iconfont eye\">&#xe62b;</i>\n        <span class=\"spanOne\">{{item.article_look_count}}</span>\n      </div>\n      \n\t    <div>\n\t      <!-- 评论量 -->\n\t      <i class=\"iconfont comment\">&#xe61d;</i>\n\t      <span class=\"spanOne\">{{item.article_comment_count}}</span>\n\t    </div>\n\n\t    <div>\n\t      <!-- 收藏量 -->\n\t      <i class=\"iconfont col\">&#xe68b;</i>\n\t      <span>{{item.article_col_count}}</span>\n\t    </div>\n\n\t  </div>\r\n\n    </div>\n\n      <!-- <div class=\"noList\" v-show=\"!list[0]\"></div> -->\n  </van-list>\r\n\n\n</van-pull-refresh>\r\n  </div>\n</template>\n\n<script>\n\t/* 引入头像组件*/\n\t// import HeadPor from \"@/components/utils/HeadPor\"\n  import UserTag from \"@/components/utils/UserTag\"\n\n  import {createNamespacedHelpers} from 'vuex'\n  const list=createNamespacedHelpers('list')\n  export default{\n    name:\"\",\n    /* 数据*/\n    data(){\n      return {\n          list: [],\n          loading: false,\n          isLoading : false,\n          finished: false,\n          // skeleton: false,\n      }\n    },\n    filters:{\n      // fb : function(value){\n      //   return value+1\n      // }\n    },\n    directives: {\n         // 注册一个局部的自定义指令 v-focus\n         focus: {\n           // 指令的定义\n           inserted: function (el) {\n             // 聚焦元素\n             el.focus()\n           }\n         }\n    },\n   ///////////////////////////////////////////////////////////////123\n   /* 方法*/\n   methods:{\n     onRefresh(){\n       this.list.length = 0\n       // this.list = []\n       this.onLoad()\n     },\n     // 重置函数\n     ...list.mapMutations({\n           \tResetHandler: 'ResetHandler'\n           }),\n     // 得到文章列表\n     getArticle(params,num){\n       /* ***********************************************************************************/\n       // this.$api.article[`${this.one[num]}`](params).then(\r\n\t   this.$api.article.search(params).then(\n           res =>{\n               // 刷新状态结束\n               this.isLoading = false\n               // 加载状态结束\n               this.loading = false;\n                console.log(res.data)\n               if(res.data ==\"no_data\" ){\n                 //文章不再触发加载\n                 this.finished = true\n               }else if(res.data.finished){\n                 // alert(1)\n                 //如果后端告知无需刷新\n                 this.finished = true\n                 this.getFn(res.data.result,num)\n               }else if(res.data.ok){\n                this.getFn(res.data.result,num)\n              }else{\n                this.finished = true\n              }\n\n           }\n       )\n       /* ***********************************************************************************/\n     },\n     getFn(arg,num){\n       for(var i =0;i<arg.length;i++){\n        \t// 日期处理\n        \t// var a = arg[i].article_publish_time.slice(0,23)\n        \t// var b = a.replace('T', ' ')\n         // var c = new Date(b)\n         //  arg[i].article_publish_time = this.formatDate(new Date(c.setHours(c.getHours() + 8)))\n        \targ[i].article_publish_time = this.$formatDate(new Date(arg[i].article_publish_time))\n          // 这是关于内容\n        \tthis.$refs.tempForsearch.innerHTML = arg[i].article_content\n        \targ[i].article_content = this.$refs.tempForsearch.textContent\n         // 内容是否图片\n         arg[i].hasImg = {\n          hasImgONe : false,\n          hasImgTag : false,\n          imgArr : []\n         }\n         var imgs = this.$refs.tempForsearch.getElementsByTagName(\"img\")\n         // 如果有图片\n         if(!!imgs[0] == true) {\n           if(imgs.length < 3){\n             // 如果只有一张图片\n              arg[i].hasImg.hasImgONe = true\n              arg[i].hasImg.imgArr[0] = imgs[0].src\n           }else{\n             // 如果只有三张及以上图片\n             arg[i].hasImg.hasImgTag = true\n             for(let j = 0; j<3;j++){\n                 arg[i].hasImg.imgArr[j] = imgs[j].src\n             }\n           }\n         }\n        }\n       /* 数字*/\n        switch(num){\n         case 0:\n             this.list = arg\n             break;\n         case 1:\n             this.list = this.list.concat(arg)\n             break;\n           default:\n        }\n        //文章继续触发加载 因为list和listPlate 在刷新和排序的过程中有if 重新渲染 所以this.finished = false不需要\n        // this.finished = false\n        this.$nextTick(() => {\n          for(let i=0;i<=this.list.length-1;i++){\n            // 如果有一张图片\n            if(!!this.list[i].hasImg.hasImgONe == true){\n              // 给这个内容增加样式\n              this.$refs[`des${i}`][0].classList.add('oneImg')\n            }\n            // 如果有三张图片\n            else if(!!this.list[i].hasImg.hasImgTag == true){\n              // 给这个内容增加样式\n              this.$refs[`des${i}`][0].classList.add('threeImg')\n            }\n            else{\n                //如果没有图片\n                this.$refs[`des${i}`][0].classList.add('noImg')\n             }\n          }\n        })\n     },\n     // 跳转到具体文章\n       articleJump(params){\n         this.$router.push({\n           path: '/read',\n           query : {\n             articleId : params\n           }\n         })\n       },\n       // 加载\n       onLoad() {\n\n           if(!!this.list[0] == true){\n             // more///////////////////////////////////////////////////////////////////////\n             var params = {\n             \t// id : this.list[this.list.length-1].article_id\n               time : this.list[this.list.length-1].article_publish_time,\n               KeyWord : this.KeyWord\n             }\n            this.getArticle(params,1)\n\n           }else{\n             var params = {\n               KeyWord : this.KeyWord\n             }\n             this.getArticle(params,0)\n\n           }\n\n     },\n     // formatDate(date){\n     //   var y = date.getFullYear();\n     //       var m = date.getMonth() + 1;\n     //       m = m < 10 ? ('0' + m) : m;\n     //       var d = date.getDate();\n     //       d = d < 10 ? ('0' + d) : d;\n     //       var h = date.getHours();\n     //       var minute = date.getMinutes();\n     //       minute = minute < 10 ? ('0' + minute) : minute;\n     //       var second= date.getSeconds();\n     //       second = second < 10 ? ('0' + second) : second;\n     //       var Milliseconds= date.getMilliseconds();\n     //       if(Milliseconds < 10){\n     //         Milliseconds =  ('00' + Milliseconds)\n     //       }\n     //       if(Milliseconds < 100){\n     //         Milliseconds =  ('0' + Milliseconds)\n     //       }\n     //       // second = second < 10 ? ('0' + second) : second;\n     //       return y + '-' + m + '-' + d+' '+h+':'+minute+':'+ second+'.'+ Milliseconds;\n     // }\n     // formatDate(date){\n     //   var y = date.getFullYear();\n     //       var m = date.getMonth() + 1;\n     //       m = m < 10 ? ('0' + m) : m;\n     //       var d = date.getDate();\n     //       d = d < 10 ? ('0' + d) : d;\n     //       var h = date.getHours();\n     //       var minute = date.getMinutes();\n     //       minute = minute < 10 ? ('0' + minute) : minute;\n     //       var second= date.getSeconds();\n     //       second = second < 10 ? ('0' + second) : second;\n     //       return y + '-' + m + '-' + d+' '+h+':'+minute+':'+ second;\n     // }\n   },\n   //////////////////////////////////////////////////////////////////123\n    /* 计算*/\n    computed:{\n     // ...list.mapState({\n     //      \tone : state => state.one\n     //      }),\n    // ...list.mapState({\n    //      \tisSearch : state => state.isSearch\n    //      }),\n         // 获取关键词\n    ...list.mapState({\n         \tKeyWord : state => state.KeyWord\n         }),\n         // 重置\n    ...list.mapState({\n         \tReset : state => state.Reset\n         }),\n    // list:{\n    //    get () {\n    //         return this.$store._modulesNamespaceMap['list/'].context.state.list\n    //       },\n    //   set (value) {\n    //     this.$store._modulesNamespaceMap['list/'].context.commit('listHandler', value)\n    //   }\n    // },\n    },\n    // 组件\n    components : {\n    \t/* 这个组件名字不能和原生标签名重复 */\n      // SignUp\n      // HeadPor\n      UserTag\n    },\n    /* 挂载阶段*/\n    mounted() {\n    },\n    // 监听\n    watch:{\n      'Reset': {\n          handler(newVal, oldVal) {\n            console.log(newVal,123)\n            if(!!newVal == true){\n              // 清空\n              // this.list = []\n              this.list.length = 0\n              // 未完成\n              this.finished = false\n              // 执行加载函数\n              this.onLoad()\n              // alert(1)\n              // 重置\n              this.ResetHandler(false)\n            }\n          },\n          immediate: false,\n          // deep: true\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  @import \"../../assets/scss/com/List.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/utils/SearchList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"listBoss\"},[_c('van-pull-refresh',{attrs:{\"success-text\":\"刷新成功\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{staticClass:\"list\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{ref:\"tempForsearch\",staticClass:\"temp\",attrs:{\"id\":\"articleYzhTemp\"}}),_vm._v(\" \"),_vm._l((_vm.list),function(item,index){return _c('div',{key:item.article_id,staticClass:\"item\",on:{\"click\":function($event){return _vm.articleJump(item.article_id)}}},[_c('UserTag',{attrs:{\"msgg\":item}}),_vm._v(\" \"),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"title \"},[_vm._v(_vm._s(item.article_title))]),_vm._v(\" \"),_c('div',{staticClass:\"ccc\"},[_c('div',{ref:(\"des\" + index),refInFor:true,staticClass:\"content van-multi-ellipsis--l3\"},[_vm._v(_vm._s(item.article_content))]),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.hasImg.hasImgONe),expression:\"item.hasImg.hasImgONe\"}],attrs:{\"src\":item.hasImg.imgArr[0],\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.hasImg.hasImgTag),expression:\"item.hasImg.hasImgTag\"}],staticClass:\"imgs\"},_vm._l((item.hasImg.imgArr),function(item2,index2){return _c('img',{key:index2,staticClass:\"hasImg\",attrs:{\"src\":item2}})}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('div',[_c('i',{staticClass:\"iconfont time\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{staticClass:\"spanOne\"},[_vm._v(_vm._s(_vm._f(\"fTime\")(item.article_publish_time)))])]),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"iconfont eye\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{staticClass:\"spanOne\"},[_vm._v(_vm._s(item.article_look_count))])]),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"iconfont comment\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{staticClass:\"spanOne\"},[_vm._v(_vm._s(item.article_comment_count))])]),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"iconfont col\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.article_col_count))])])])],1)})],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-710c0358\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/utils/SearchList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-710c0358\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"H:\\\\\\\\aaa\\\\\\\\good\\\\\\\\goodvue\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\global.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SearchList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-710c0358\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SearchList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-710c0358\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/utils/SearchList.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"\">\n      <van-search\n        v-model=\"value\"\n        show-action\n        placeholder=\"请输入搜索关键词\"\n        @search=\"onSearch\"\n        autofocus\n        shape =\"round\"\n      >\n        <template #action>\n          <div @click=\"onSearch\">搜索</div>\n        </template>\n      </van-search>\n\n     <!-- <div class=\"searchBig\">\n         <input type=\"text\" placeholder=\"请输入顾客姓名\" v-model=\"value\">\n         <div class=\"btn\" @click=\"onSearch\">搜索</div>\n      </div> -->\n\n\n    <!-- 列表 隐藏是为了不让他自动加载-->\n    <List v-show='showSearch'></List>\n    <!-- <List></List> -->\n  </div>\n</template>\n\n<script>\n\t/* 引入导航栏组件*/\n\t// import SignUp from \"@/components/me/utils/SignUp\"\n\n  import {createNamespacedHelpers} from 'vuex'\n  const list=createNamespacedHelpers('list')\n  /* 引入列表组件*/\n  import List from \"@/components/utils/SearchList\"\n  export default{\n    name:\"\",\n    /* 数据*/\n    data(){\n      return {\n        value : '',\n        showSearch : false\n      }\n    },\n    /* 方法*/\n    methods:{\n      // ...list.mapMutations({\n      //       \toneHandler: 'oneHandler'\n      //       }),\n      ...list.mapMutations({\n            \tKeyWordHandler: 'KeyWordHandler'\n            }),\n      // 重置函数\n      ...list.mapMutations({\n            \tResetHandler: 'ResetHandler'\n            }),\n      onSearch(){\n        if(!!this.value == false){\n          this.$tip(\"请输入关键词\",\"warning\")\n          return;\n        }\n        // 重置\n        this.ResetHandler(true)\n        // 关键词\n        this.KeyWordHandler(this.value)\n        // 显示list\n        this.showSearch = true\n      },\n      back(){\n        this.$router.back();\n      }\n    },\n    /* 计算*/\n    computed:{\n     // ...nav.mapState({\n     //      \tcode : state => state.code\n     //      })\n    },\n    // 组件\n    components : {\n    \t/* 这个组件名字不能和原生标签名重复 */\n      // SignUp\n      List\n    },\n    /* 挂载阶段*/\n    mounted() {\n\n    },\n     // beforeRouteLeave( to,from,next ){\n     //            this.isSearchHandler(false)\n     //            next();  //写了这个，才会从当前导航离开，否则会一直停留在当前导航页\n     // },\n    // 监听\n    watch:{\n      // '$route.path': {\n      //     handler(newVal, oldVal) {\n      //       console.log(newVal)\n      //       switch(newVal){\n      //         case '/search':\n      //             this.oneHandler(['search','searchMore'])\n      //             break;\n      //       }\n      //     },\n      //     immediate: true,\n      //     // deep: true\n      // }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n.searchBig {\n  // width: 700px;\n  margin-bottom: 10px;\n  position: relative;\n  @include flex(flex,center,center)\n  input,.btn {\n  \tborder:none;\n  \toutline:none;\n  }\n  input {\n  \twidth:100%;\n  \theight:80px;\n  \tpadding-left:20px;\n    padding-right:140px;//必须必btn的width大\n\n    border:2px solid #c5464a;\n    border-radius:5px;\n    background:transparent;\n    top:0;\n    right:0;\n  }\n  .btn {\n    @include flex(flex,center,center);\n  \theight:86px;\n  \twidth:100px;\n  \tcursor:pointer;\n  \tposition:absolute;\n\n    background:#c5464a;\n    border-radius:0 5px 5px 0;\n    width:120px;\n    top:0;\n    right:0;\n\n    font-size:36px;\n    color:#F9F0DA;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('van-search',{attrs:{\"show-action\":\"\",\"placeholder\":\"请输入搜索关键词\",\"autofocus\":\"\",\"shape\":\"round\"},on:{\"search\":_vm.onSearch},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('div',{on:{\"click\":_vm.onSearch}},[_vm._v(\"搜索\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_vm._v(\" \"),_c('List',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearch),expression:\"showSearch\"}]})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-13e8ca1f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13e8ca1f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"H:\\\\\\\\aaa\\\\\\\\good\\\\\\\\goodvue\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\global.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13e8ca1f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-13e8ca1f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}