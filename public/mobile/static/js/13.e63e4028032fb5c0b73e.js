webpackJsonp([13],{"4aiR":function(t,e){},mXcx:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"",activated:function(){this.firstEnter>1&&"/otherUser"!=this.fromPath&&"/search"!=this.fromPath?(this.isBuffering=!0,this.list.length=0,this.onLoad()):this.firstEnter++},data:function(){return{isLoading:!1,loading:!1,finished:!1,firstEnter:0,list:[],comReq:["getReward","getRewardMore"]}},filters:{},methods:{mountedFn:function(){this.firstEnter++,this.isBuffering=!0},clickMe:function(t,e){this.$refs["child"+e][0].toOtherUser(t)},onRefresh:function(){this.list.length=0,this.onLoad()},onLoad:function(){var t={articleId:this.$route.query.articleId};1==!!this.list[0]?(t.time=this.list[this.list.length-1].get_reward_time,this.getList(t,1)):this.getList(t,0)},getList:function(t,e){var i=this;this.$api.article.getReward(t).then(function(t){i.isBuffering=!1,i.loading=!1,i.isLoading=!1,i.finished=!1,console.log(t.data,"打赏具体用户"),"no_data"==t.data?i.finished=!0:t.data.finished?(i.finished=!0,i.getFn(t.data.result,e)):t.data.ok?i.getFn(t.data.result,e):i.finished=!0})},getFn:function(t,e){for(var i=0;i<t.length;i++)t[i].get_reward_time=this.$formatDate(new Date(t[i].get_reward_time));switch(e){case 0:this.list=t;break;case 1:this.list=this.list.concat(t)}}},computed:{fromPath:{get:function(){return this.$store._modulesNamespaceMap["path/"].context.state.fromPath},set:function(t){this.$store._modulesNamespaceMap["path/"].context.commit("fromPathHandler",t)}},winWH:{get:function(){return this.$store._modulesNamespaceMap["win/"].context.state.winWH},set:function(t){this.$store._modulesNamespaceMap["win/"].context.commit("winWHHandler",t)}},isBuffering:{get:function(){return this.$store._modulesNamespaceMap["win/"].context.state.isBuffering},set:function(t){this.$store._modulesNamespaceMap["win/"].context.commit("isBufferingHandler",t)}}},components:{UserTag:i("oslt").a},mounted:function(){this.mountedFn()},watch:{}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("van-pull-refresh",{staticClass:"refresh",style:{minHeight:t.winWH.height},attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{staticClass:"list",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,s){return i("div",{key:s,staticClass:"for",on:{click:function(e){return t.clickMe(e,s)}}},[i("UserTag",{ref:"child"+s,refInFor:!0,staticClass:"user_tag",attrs:{msgg:e,toUserInfo:!0}}),t._v(" "),i("div",{staticClass:"bottom"},[i("span",[t._v(t._s(t._f("fTime")(e.get_reward_time)))]),t._v(" "),i("span",[t._v("慷慨地打赏了"+t._s(e.get_reward_num)+"颗钻石")])])],1)}),0)],1)],1)},staticRenderFns:[]};var a=i("VU/8")(s,n,!1,function(t){i("4aiR")},"data-v-9ebee9b6",null);e.default=a.exports}});
//# sourceMappingURL=13.e63e4028032fb5c0b73e.js.map